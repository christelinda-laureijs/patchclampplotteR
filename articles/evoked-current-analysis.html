<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Evoked Current Analysis â€¢ patchclampplotteR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Evoked Current Analysis">
<meta name="description" content="Learn how to analyze raw evoked current data in Clampfit and prepare it for use with the package patchclampplotteR.
">
<meta property="og:description" content="Learn how to analyze raw evoked current data in Clampfit and prepare it for use with the package patchclampplotteR.
">
<meta property="og:image" content="https://christelinda-laureijs.github.io/patchclampplotteR/logo.png">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-M92L6F0ZB2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M92L6F0ZB2');
</script><link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="icon" type="image/x-icon" href="../favicon.ico">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">patchclampplotteR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/patchclampplotteR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/action-potential-analysis.html">Action Potential Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/evoked-current-analysis.html">Evoked Current Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/christelinda-laureijs/patchclampplotteR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Evoked Current Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/christelinda-laureijs/patchclampplotteR/blob/main/vignettes/evoked-current-analysis.Rmd" class="external-link"><code>vignettes/evoked-current-analysis.Rmd</code></a></small>
      <div class="d-none name"><code>evoked-current-analysis.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="evoked-current-analysis">Evoked Current Analysis<a class="anchor" aria-label="anchor" href="#evoked-current-analysis"></a>
</h2>
<p>Before using <code>patchclampplotteR</code>, you will need to prepare
your raw recording data from Clampfit. This vignette will show you how
to move your evoked post-synaptic current data from raw .abf recordings
to a .csv file.</p>
<p>This demonstration uses a protocol with two stimuli resulting in two
evoked currents per sweep. The paired-pulse ratio (PPR) is the ratio of
the second evoked current amplitude to the first.</p>
<div class="figure" style="text-align: center">
<img src="figures%2FEvoked-currents-schematic.png" alt="A sketch showing a horizontal line with two downward-pointing peaks separated by a short distance. These are the two evoked currents." width="960"><p class="caption">
This schematic shows the first and second evoked currents. The ratio
between them is the paired-pulse ratio (PPR)
</p>
</div>
<div class="section level3">
<h3 id="combine-recordings">Combine recordings<a class="anchor" aria-label="anchor" href="#combine-recordings"></a>
</h3>
<blockquote>
<p>The data from our lab is not a continuous 30-minute recording. We
pause the recording every 5 minutes to obtain parameters like access
resistance and capacitance from the membrane test before resuming
recording. If your data is already a continuous file, you can skip steps
1-2.</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>Open the first .abf file in your recording series, and use the
<code>Next File</code> button to quickly open all files in the
series.</p></li>
<li><p>Click on <code>Analyze</code> -&gt;
<code>Concatenate Files</code> and select all files that belong to a
recording from a single cell. All the recordings will be combined into a
continuous recording with no gaps.</p></li>
</ol>
<p><img src="figures%2FConcatenate-files.png" alt="A screenshot of the Concatenate files dialog box in Clampfit showing that all files are selected." width="348" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="create-data-sheet">Create data sheet<a class="anchor" aria-label="anchor" href="#create-data-sheet"></a>
</h3>
<ol start="3" style="list-style-type: decimal">
<li>Create a .csv file with four columns: <code>Letter</code>,
<code>ID</code>, <code>P1</code>, <code>P2</code>.</li>
</ol>
<ul>
<li>
<code>Letter</code> The unique letter identifier of a single
cell.</li>
<li>
<code>ID</code> A character value indicating the recording number.
This corresponds to the <code>File Name</code> column that is
automatically generated in the Results sheet in Clampfit. See below for
a warning about what you should put here.</li>
<li>
<code>P1</code> The amplitude of the first evoked current.</li>
<li>
<code>P2</code> The amplitude of the second evoked current.</li>
</ul>
<blockquote>
<p>I would strongly recommend using the filename of the first file in
the series (but write down the concatenated filename in your lab book as
well). This is because Clampfit will auto-generate the concatenated file
names (<code>Concatenate001.abf</code>, <code>Concatenate002.abf</code>,
etc.). If you update your pClamp software, Clampfit will begin naming
files again at <code>Concatenate000.abf</code>, and you could lose track
of which file is which.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="view-data">View data<a class="anchor" aria-label="anchor" href="#view-data"></a>
</h3>
<ol start="4" style="list-style-type: decimal">
<li><p>Click on the <code>Show Aquistion Signals</code> button and then
<code>Previous Signal</code> (blue arrow in the figure below) to view
the sweeps showing changes in current (<code>Im_primary ()</code>). The
traces should all be stacked on top of each other, but if they are not,
click on <code>View</code> -&gt; <code>Data Display</code> -&gt;
<code>Sweeps</code>.</p></li>
<li><p>You can also click on the <code>Auto Scale All Y Axes</code>
button (orange arrow) to help you see the data faster.</p></li>
</ol>
<p><img src="figures%2FViewer-buttons.png" alt="A screenshot of the Show Signals buttons and other viewering buttons available in the upper toolbar in Clampfit." width="132" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="set-up-cursors">Set up cursors<a class="anchor" aria-label="anchor" href="#set-up-cursors"></a>
</h3>
<ol start="6" style="list-style-type: decimal">
<li><p>You will only need to set this up once per computer. Double-click
anywhere in a blank region on the graph to open the
<code>Analysis Window Properties</code> box.</p></li>
<li><p>In <code>Cursor Options</code>, increase the number of cursor
pairs to 3. These 3 pairs will be used to set the baseline, first evoked
current, and second evoked current.</p></li>
<li><p>Position Cursors 1 and 2 before the first stimulus artifact.
Cursors 3 and 4 should surround the first evoked current, and Cursors 5
and 6 should surround the second evoked current.</p></li>
</ol>
<p><img src="figures%2FEvoked-currents-cursors.png" alt="A screenshot of the correct cursor alignment in Clampfit." width="551" style="display: block; margin: auto;"></p>
<blockquote>
<p>Warning! Ensure that the cursors fully enclose the evoked currents
and that they do NOT include the stimulus artifacts.</p>
</blockquote>
<ol start="9" style="list-style-type: decimal">
<li>Click on <code>View</code> -&gt; <code>Window Defaults</code> and
<code>Save selected Analysis Windows settings as default</code>. This
will save you time when running through many analyses since it will
restore your cursor pairs to the same position with new files!</li>
</ol>
</div>
<div class="section level3">
<h3 id="get-current-amplitudes">Get current amplitudes<a class="anchor" aria-label="anchor" href="#get-current-amplitudes"></a>
</h3>
<ol start="10" style="list-style-type: decimal">
<li><p>Click on the Statistics button (a small icon with a summation
symbol on top of it) or press <code>Alt+s</code>.</p></li>
<li><p>Set the following settings:</p></li>
</ol>
<ul>
<li>Trace Selection: Choose <code>Im_primary ()</code> and
<code>Select All</code> traces. If you want to exclude specific traces,
click on these traces, then select <code>Invert</code> to choose all
traces <em>except</em> the ones you excluded.</li>
<li>Peak Polarity: <code>Im_primary</code>,
<code>Negative-going</code>
</li>
<li>Baseline Region: Mean level <code>Cursors 1..2</code>
</li>
<li>Search Region 1: Range: <code>Cursors 3..4</code>
</li>
<li>Search Region 2 (toggle up and check to enable a second search
region): Range: <code>Cursors 5..6</code>
</li>
<li>Destination Option: <code>Replace results in sheet</code> (prevents
you from accidentally copying old data</li>
<li>Column Order: <code>Measurement, region, Signal</code>
</li>
<li>Measurements: <code>Peak_amplitude</code>
</li>
</ul>
<blockquote>
<p>Warning! Ensure that you have selected all traces that you want to
include in the recording! You can verify if this is the correct number
by checking the total number of sweeps in the bottom-right corner.</p>
</blockquote>
<blockquote>
<p>Ensure that all the settings are correct, especially if you have done
other analyses in Clampfit recently. For example, the polarity may be
set to <code>Positive-going</code>, and you may have incorrect search
regions specified if you were recently <a href="https://christelinda-laureijs.github.io/patchclampplotteR/articles/action-potential-analysis.html">analyzing
action potential data</a>.</p>
</blockquote>
<blockquote>
<p>The Measurements options change for each search region, so make sure
that both search regions only have <code>Peak_amplitude</code>
checked!</p>
</blockquote>
<p><img src="figures%2FEvoked-currents-statistics-box.png" alt="A screenshot of the correct statistics options selected in Clampfit." width="308" style="display: block; margin: auto;"></p>
<ol start="12" style="list-style-type: decimal">
<li><p>Click OK and view the <code>Results</code> sheet. Copy the R1S1
and R2S1 columns, which correspond to the first and second evoked
currents, respectively.</p></li>
<li><p>Paste these values into the <code>P1</code> and <code>P2</code>
columns.</p></li>
<li><p>Fill in the <code>Letter</code> and <code>ID</code> columns. In
Excel, you can just fill the first values, then double-click the cell in
the bottom right corner to automatically fill the entire
column.</p></li>
</ol>
<p>You are finished with the analysis in Clampfit!</p>
</div>
<div class="section level3">
<h3 id="cell-characteristics">Cell Characteristics<a class="anchor" aria-label="anchor" href="#cell-characteristics"></a>
</h3>
<ol start="15" style="list-style-type: decimal">
<li><p>Create a new .csv file. This will eventually become a large
spreadsheet with information on all recordings in your entire dataset.
As you add new recordings, update this cell characteristics sheet.
Please see the <strong>Required columns</strong> section of the
documentation for <code><a href="../reference/import_cell_characteristics_df.html">import_cell_characteristics_df()</a></code> for
explanations of the required columns and what they include.</p></li>
<li><p>After you have completed these steps for several recordings, you
should have two .csv files:</p></li>
</ol>
<ul>
<li>A .csv file with the evoked current amplitudes (<code>P1</code> and
<code>P2</code>)</li>
<li>A .csv file containing information on the cell characteristics</li>
</ul>
<p>If you have these two files, you are ready to begin using
<code>patchclampplotteR</code>! See the <a href="https://christelinda-laureijs.github.io/patchclampplotteR/articles/patchclampplotteR.html">Getting
Started vignette</a></p>
</div>
<div class="section level3">
<h3 id="faq-about-evoked-current-analysis">FAQ about evoked current analysis<a class="anchor" aria-label="anchor" href="#faq-about-evoked-current-analysis"></a>
</h3>
<p><em>There are some traces with significant amounts of noise</em></p>
<p>You can exclude individual traces (for example ones with lots of
noise or a very unstable baseline) in the Trace Selection box of Step
11. Select the traces you want to exclude, then <code>Invert</code> your
selection.</p>
<p><em>What do I do if there are two peaks?</em></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christelinda Laureijs.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
