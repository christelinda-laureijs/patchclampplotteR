<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>FAQ • patchclampplotteR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="FAQ">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-M92L6F0ZB2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M92L6F0ZB2');
</script><link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="icon" type="image/x-icon" href="../favicon.ico">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">patchclampplotteR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/patchclampplotteR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/evoked-current-analysis.html">Evoked Current Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/action-potential-analysis.html">Action Potential Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/spontaneous-current-analysis.html">Spontaneous Current Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/FAQ.html">FAQ</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/christelinda-laureijs/patchclampplotteR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="FAQ_files/core-js-2.5.3/shim.min.js"></script><script src="FAQ_files/react-18.2.0/react.min.js"></script><script src="FAQ_files/react-18.2.0/react-dom.min.js"></script><script src="FAQ_files/reactwidget-2.0.0/react-tools.js"></script><link href="FAQ_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="FAQ_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="FAQ_files/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="FAQ_files/reactable-binding-0.4.4/reactable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>FAQ</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/christelinda-laureijs/patchclampplotteR/blob/main/vignettes/articles/FAQ.Rmd" class="external-link"><code>vignettes/articles/FAQ.Rmd</code></a></small>
      <div class="d-none name"><code>FAQ.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="plotting-faq">Plotting FAQ<a class="anchor" aria-label="anchor" href="#plotting-faq"></a>
</h2>
<p>This article contains answers to common questions about plots and
customizing the ggplot output of functions like
<code><a href="../reference/plot_raw_current_data.html">plot_raw_current_data()</a></code>.</p>
<blockquote>
<p><em>Note</em>: Above all, if you are confused about how a function
works, be sure to check the help page for that function! If you type
<code>?</code> and the name of the function in the R console, it will
bring up the help page for the function. For example, type
<code><a href="../reference/plot_AP_trace.html">?plot_AP_trace</a></code> to get information on how to use this
function.</p>
</blockquote>
<blockquote>
<p>There are often extra arguments not included in the examples that you
may find helpful if you need to re-adjust parameters like the image
position in <code><a href="../reference/plot_summary_current_data.html">plot_summary_current_data()</a></code> or the bracket line
width.</p>
</blockquote>
<p>This is the plot we will use throughout the FAQ:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cars_plot</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">cars</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">speed</span>, y <span class="op">=</span> <span class="va">dist</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Speed (mph)"</span>, y <span class="op">=</span> <span class="st">"Distance (ft)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/patchclampplotteR_theme.html">patchclampplotteR_theme</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cars_plot</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/cars-plot-initial-1.png" alt="A scatterplot of stopping distance in feet versus speed in miles per hour. The graph is a plain scatterplot with no background or gridlines." width="700"></p>
<div class="section level3">
<h3 id="how-do-i-save-my-plots-outside-of-r">How do I save my plots outside of R?<a class="anchor" aria-label="anchor" href="#how-do-i-save-my-plots-outside-of-r"></a>
</h3>
<p>Most plots have an argument called <code>save_png</code>, which you
can set to “yes” or “no” (the default is “no” to cut down on run time).
If <code>save_png</code> is set to “yes”, this will save the plot as a
<code>.png</code> using <code>ggsave()</code> and export it to a folder.
The subfolder will vary depending on the plot type. For example, all
plots generated using <code><a href="../reference/plot_PPR_data_one_treatment.html">plot_PPR_data_one_treatment()</a></code> will be
exported to “Figures/Evoked-currents/PPR” relative to your project
directory. If you want further control over the export options, you can
also use <code>ggsave()</code> to manually save a ggplot object.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggsave</span><span class="op">(</span></span>
<span>  <span class="va">cars_plot</span>,</span>
<span>  path <span class="op">=</span> <span class="fu">here</span><span class="op">(</span><span class="st">"Figures/Raw-plots"</span><span class="op">)</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"cars-plot.png"</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"in"</span>,</span>
<span>  dpi <span class="op">=</span> <span class="fl">300</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="how-do-i-change-the-plot-text-sizes">How do I change the plot text sizes?<a class="anchor" aria-label="anchor" href="#how-do-i-change-the-plot-text-sizes"></a>
</h3>
<p>A quick fix for making the text bigger is the
<code>large_axis_text</code> argument. Set <code>large_axis_text</code>
to “yes” to add a ggplot theme layer which increases and adjusts the
plot to be ideal for posters or presentations. If you want more control
over the font sizes, you can also apply a new <code>theme()</code> layer
and specify the text elements manually. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cars_plot</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">25</span>, color <span class="op">=</span> <span class="st">"darkmagenta"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/magenta-text-1.png" alt="A scatterplot of stopping distance in feet versus speed in miles per hour. The graph is a plain scatterplot with no background or gridlines, but the axis title text is now coloured magenta." width="700"></p>
</div>
<div class="section level3">
<h3 id="how-do-i-change-the-plot-font-family">How do I change the plot font family?<a class="anchor" aria-label="anchor" href="#how-do-i-change-the-plot-font-family"></a>
</h3>
<p>This can be tricky and it will vary depending on your operating
system. I would recommend using the <code>extrafont</code> package. You
will need to run the code below the first time you do this. Use
<code><a href="https://rdrr.io/pkg/extrafont/man/fonts.html" class="external-link">fonts()</a></code> to see the list of fonts available to you in R.</p>
<blockquote>
<p><strong>Warning!</strong> font_import() will take a long time to run,
especially if you have a lot of fonts on your computer. Luckily, you
only need to do this once per system, or after you install a new
font.</p>
</blockquote>
<blockquote>
<p>If the <code>extrafont</code> package does not work, there are newer
alternatives, such as the <code>showtext</code> package, which makes it
particularly easy to add Google fonts and system fonts.</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wch/extrafont" class="external-link">extrafont</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/extrafont/man/font_import.html" class="external-link">font_import</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/extrafont/man/fonts.html" class="external-link">fonts</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you already have the fonts installed in R, you just need to run
<code><a href="https://github.com/wch/extrafont" class="external-link">library(extrafont)</a></code> at the start of your document to have
the fonts available to use.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cars_plot</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">25</span>, color <span class="op">=</span> <span class="st">"darkmagenta"</span>, family <span class="op">=</span> <span class="st">"Calibri"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To apply these theme changes globally (i.e. all plots in your file),
it will be much more efficient to modify and define a theme. See
below!</p>
</div>
<div class="section level3">
<h3 id="how-do-i-modify-the-ggplot-theme">How do I modify the ggplot theme?<a class="anchor" aria-label="anchor" href="#how-do-i-modify-the-ggplot-theme"></a>
</h3>
<p>You might wonder things like, “How can I override the default theme
that came with this package?” or “How can I make all my plots have the
same theme/fonts, etc.?”. You can fix this efficiently by defining a
custom ggplot theme and adding this to the <code>ggplot_theme</code>
argument in all plotting functions.</p>
<p>Choose a theme like <code>theme_classic()</code> or the
<code><a href="../reference/patchclampplotteR_theme.html">patchclampplotteR_theme()</a></code> that came with this package. Use
this theme as a base, and add new theme elements to replace just the
components you want to change (see <a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">the
documentation on theme modification in ggplot2</a>. The new theme that
you define will inherit all components of the base theme, but replace
just the elements that you specified.</p>
<blockquote>
<p><strong>Important!</strong> You must assign this theme to a name,
since the <code>ggplot_theme</code> argument requires a named object. In
this example, I will creatively call it <code>my_new_theme</code>.</p>
</blockquote>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_new_theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/patchclampplotteR_theme.html">patchclampplotteR_theme</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%+replace%</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">25</span>, color <span class="op">=</span> <span class="st">"#333333"</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"plain"</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    panel.grid.major <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"#ebebeb"</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"italic"</span>, size <span class="op">=</span> <span class="fl">8</span>, color <span class="op">=</span> <span class="st">"#999999"</span><span class="op">)</span>,</span>
<span>    axis.line <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cars_plot</span> <span class="op">+</span> <span class="va">my_new_theme</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/cars-plot-new-theme-1.png" alt="A scatterplot of stopping distance in feet versus speed in miles per hour. The graph has a new theme that makes it have gridlines in the background and no axis lines. The axis text is now a pale gray colour." width="700"></p>
<p>Now, insert this theme into the <code>ggplot_theme</code> argument.
This is one of the sample action potential plots with the default theme
applied:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_AP_comparison.html">plot_AP_comparison</a></span><span class="op">(</span></span>
<span>  <span class="va">sample_AP_data</span>,</span>
<span>  plot_treatment <span class="op">=</span> <span class="st">"Control"</span>,</span>
<span>  plot_category <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  y_variable <span class="op">=</span> <span class="st">"peak_amplitude"</span>,</span>
<span>  y_axis_title <span class="op">=</span> <span class="st">"Peak Amplitude (pA)"</span>,</span>
<span>  theme_options <span class="op">=</span> <span class="va">sample_theme_options</span>,</span>
<span>  baseline_label <span class="op">=</span> <span class="st">"Baseline"</span>,</span>
<span>  test_type <span class="op">=</span> <span class="st">"wilcox.test"</span>,</span>
<span>  post_hormone_label <span class="op">=</span> <span class="st">"Insulin"</span>,</span>
<span>  treatment_colour_theme <span class="op">=</span> <span class="va">sample_treatment_names_and_colours</span>,</span>
<span>  save_plot_png <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  ggplot_theme <span class="op">=</span> <span class="fu"><a href="../reference/patchclampplotteR_theme.html">patchclampplotteR_theme</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/plot-ap-comparison-old-theme-1.png" alt="A scatterplot showing peak amplitude in pico amps versus experiment state (baseline or insulin) on the x-axis. The default patchclampplotteR theme has been applied, so it has a plain background and bold black axis lines." width="700"></p>
<p>Here’s what the same plot looks like with the new theme:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_AP_comparison.html">plot_AP_comparison</a></span><span class="op">(</span></span>
<span>  <span class="va">sample_AP_data</span>,</span>
<span>  plot_treatment <span class="op">=</span> <span class="st">"Control"</span>,</span>
<span>  plot_category <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  y_variable <span class="op">=</span> <span class="st">"peak_amplitude"</span>,</span>
<span>  y_axis_title <span class="op">=</span> <span class="st">"Peak Amplitude (pA)"</span>,</span>
<span>  theme_options <span class="op">=</span> <span class="va">sample_theme_options</span>,</span>
<span>  baseline_label <span class="op">=</span> <span class="st">"Baseline"</span>,</span>
<span>  test_type <span class="op">=</span> <span class="st">"wilcox.test"</span>,</span>
<span>  post_hormone_label <span class="op">=</span> <span class="st">"Insulin"</span>,</span>
<span>  treatment_colour_theme <span class="op">=</span> <span class="va">sample_treatment_names_and_colours</span>,</span>
<span>  save_plot_png <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  ggplot_theme <span class="op">=</span> <span class="va">my_new_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/plot-ap-comparison-new-theme-1.png" alt="A scatterplot showing peak amplitude in pico amps versus experiment state (baseline or insulin) on the x-axis. The new theme has been applied, so the graph has a pale grid in the background." width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="theme-faq">Theme FAQ<a class="anchor" aria-label="anchor" href="#theme-faq"></a>
</h2>
<div class="section level3">
<h3 id="how-do-i-insert-my-own-colours-and-treatment-names">How do I insert my own colours and treatment names?<a class="anchor" aria-label="anchor" href="#how-do-i-insert-my-own-colours-and-treatment-names"></a>
</h3>
<p>You will define your treatment names and colours once at the start,
then refer to it using the <code>treatment_colour_theme</code> in all
plotting functions.</p>
<p>This package comes pre-loaded with
<code>sample_treatment_names_and_colours</code>:</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"treatment":["Control","HNMPA","PPP","PPP_and_HNMPA"],"display_names":["Control","HNMPA","PPP","PPP\n&\nHNMPA"],"colours":["#6600cc","#e86c00","#0093fb","#411900"],"very_pale_colours":["#d6b8f5","#ffc38f","#8fd0ff","#bf9b84"]},"columns":[{"id":"treatment","name":"treatment","type":"character"},{"id":"display_names","name":"display_names","type":"character"},{"id":"colours","name":"colours","type":"character"},{"id":"very_pale_colours","name":"very_pale_colours","type":"character"}],"dataKey":"fc1dc40dc6b5ea7c56847c9d961e04ea"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><p>First, check out how many treatment groups you have using
<code>unique(raw_eEPSC_df$treatment)</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">sample_raw_eEPSC_df</span><span class="op">$</span><span class="va">treatment</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Control       HNMPA         PPP           PPP_and_HNMPA</span></span>
<span><span class="co">#&gt; Levels: Control HNMPA PPP PPP_and_HNMPA</span></span></code></pre></div>
<p>Next, modify this code to set up your own dataframe with your own
hormone names and colours.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_theme_colours</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"HNMPA"</span>, <span class="st">"PPP"</span>, <span class="st">"PPP_and_HNMPA"</span><span class="op">)</span>,</span>
<span>  display_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"HNMPA"</span>, <span class="st">"PPP"</span>, <span class="st">"PPP\n&amp;\nHNMPA"</span><span class="op">)</span>,</span>
<span>  colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#f07e05"</span>, <span class="st">"#f50599"</span>, <span class="st">"#70008c"</span>, <span class="st">"#DCE319"</span><span class="op">)</span>,</span>
<span>  very_pale_colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#fabb78"</span>, <span class="st">"#fa98d5"</span>, <span class="st">"#ce90de"</span>, <span class="st">"yellow"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Every time a plot contains the argument
<code>treatment_colour_theme</code>, refer to your custom dataframe.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_PPR_data_multiple_treatments.html">plot_PPR_data_multiple_treatments</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_PPR_df</span>,</span>
<span>  include_all_treatments <span class="op">=</span> <span class="st">"yes"</span>,</span>
<span>  plot_category <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  baseline_label <span class="op">=</span> <span class="st">"B"</span>,</span>
<span>  post_hormone_label <span class="op">=</span> <span class="st">"I"</span>,</span>
<span>  test_type <span class="op">=</span> <span class="st">"t.test"</span>,</span>
<span>  theme_options <span class="op">=</span> <span class="va">sample_theme_options</span>,</span>
<span>  treatment_colour_theme <span class="op">=</span> <span class="va">my_theme_colours</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/ppr-plot-new-colours-1.png" alt="A scatterplot of paired pulse ratio over time (baseline versus after adding insulin). The focus of this plot is to show the new colours that have been added from the previous step. Now the point colours are orange, pink, purple and yellow." width="700"></p>
</div>
<div class="section level3">
<h3 id="how-do-i-modify-the-theme_options">How do I modify the theme_options?<a class="anchor" aria-label="anchor" href="#how-do-i-modify-the-theme_options"></a>
</h3>
<p>This dataset contains theme options that will affect all plots. These
include values for line thickness and the point shapes for male
vs. female data points:</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["gray_shading_colour","line_col","rectangle_shading_colour","male_shape","female_shape","mean_point_colour","connecting_line_width","connecting_line_colour","mean_point_size","geom_signif_text_size","baseline_group_colour"],"value":["#dcdcdc","#333333","#f6f6f6","16","17","#000000","0.2","#bfbfbf","0.5","8","#727a85"]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"value","name":"value","type":"character"}],"dataKey":"6638f188a46b17dd76c0952da2ba1f75"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><p>If you want to change these values, please follow these steps.</p>
<p>Step 1: Create a <code>.csv</code> file with two columns
(<code>option</code> and <code>value</code>), modelled after this sample
dataset.</p>
<blockquote>
<p><strong>Important!</strong>: Your .csv must have identical columns
and rows as the sample data, or else the plots won’t work!</p>
</blockquote>
<p>Step 2: Read in the <code>.csv</code> file in using
<code>utils::read_csv()</code>. This will now be an object in your R
environment.</p>
<p>Step 3: <strong>Important!!</strong> You must convert the first
column (<code>option</code>) into the <code>rownames</code>. This is a
mandatory step to allow the theme_options to be indexed by row name in
plotting functions.</p>
<p>Step 4: Run the following code:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_custom_theme_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"my_custom_theme_options.csv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">remove_rownames</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">column_to_rownames</a></span><span class="op">(</span>var <span class="op">=</span> <span class="st">"option"</span><span class="op">)</span></span></code></pre></div>
<p>Step 5: Check the resulting object. You should now have 11 objects of
1 variable, and the row names should be
<code>gray_shading_colour</code>, <code>line_col</code>, etc.</p>
<p>Step 6: Go to a plotting function like
<code><a href="../reference/plot_raw_current_data.html">plot_raw_current_data()</a></code> and replace
<code>sample_theme_options</code> with your newly created object from
Step 5.</p>
<p>I changed <code>line_col</code> to orange, and I also changed
<code>male_shape</code> and <code>female_shape</code>. See, the graph
looks different now!</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_summary_current_data.html">plot_summary_current_data</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_pruned_eEPSC_df</span><span class="op">$</span><span class="va">all_cells</span>,</span>
<span>  plot_category <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  plot_treatment <span class="op">=</span> <span class="st">"Control"</span>,</span>
<span>  current_type <span class="op">=</span> <span class="st">"eEPSC"</span>,</span>
<span>  y_variable <span class="op">=</span> <span class="st">"amplitude"</span>,</span>
<span>  hormone_added <span class="op">=</span> <span class="st">"Insulin"</span>,</span>
<span>  hormone_or_HFS_start_time <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  include_representative_trace <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  y_axis_limit <span class="op">=</span> <span class="fl">175</span>,</span>
<span>  signif_stars <span class="op">=</span> <span class="st">"yes"</span>,</span>
<span>  t_test_df <span class="op">=</span> <span class="va">sample_eEPSC_t_test_df</span>,</span>
<span>  large_axis_text <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  shade_intervals <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  treatment_colour_theme <span class="op">=</span> <span class="va">sample_treatment_names_and_colours</span>,</span>
<span>  theme_options <span class="op">=</span> <span class="va">my_custom_theme_options</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 25 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_segment()`).</span></span></code></pre></div>
<p><img src="FAQ_files/figure-html/plot-summary-current-new-options-1.png" alt="A scatterplot of current amplitude (% baseline) over time in minutes. This plot demonstrates that you can change the theme options and get a different-looking plot. For example, the horizontal line showing times when insulin was added is now orange, and the data points are diamonds and circles instead of triangles and circles." width="700"></p>
</div>
<div class="section level3">
<h3 id="what-does-this-package-replace">What does this package replace?<a class="anchor" aria-label="anchor" href="#what-does-this-package-replace"></a>
</h3>
<p>This package replaces manual plot creation and data analysis in
GraphPad Prism and/or Excel. Previously, data analysis would have
required transferring data between programs, which is time-consuming and
potentially error-prone. This package can be combined with report
writing in R to generate fully reproducible manuscripts.</p>
</div>
</div>
<div class="section level2">
<h2 id="package-faq">Package FAQ<a class="anchor" aria-label="anchor" href="#package-faq"></a>
</h2>
<div class="section level3">
<h3 id="whos-ruby">Who’s Ruby?<a class="anchor" aria-label="anchor" href="#whos-ruby"></a>
</h3>
<p>Ruby is a rat, and she’s also become an unofficial lab mascot for the
Crosby lab! She loves helping out with data analysis, welcoming
newcomers to the lab, and keeping lab members company. She found a way
to sneak into some of the documentation for this package!</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"figures/Ruby-table.jpg"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figures%2FRuby-table.jpg" alt="A picture of a knitted white rat looking directly at the viewer." width="500"><p class="caption">
Ruby says ‘Hello humans!’
</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://christelindalaureijs.com" class="external-link">Christelinda Laureijs</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
